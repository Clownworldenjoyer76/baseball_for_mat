===== RUN TIMESTAMP: 2025-09-03 10:44:00 AM EDT =====

===== STATUS =====
âœ… python succeeded [2025-09-03 10:43:53 AM EDT]
âœ… python succeeded [2025-09-03 10:43:53 AM EDT]
âœ… python succeeded [2025-09-03 10:43:54 AM EDT]
âœ… python succeeded [2025-09-03 10:43:54 AM EDT]
âœ… python succeeded [2025-09-03 10:43:54 AM EDT]
âœ… python succeeded [2025-09-03 10:43:55 AM EDT]
âœ… python succeeded [2025-09-03 10:43:56 AM EDT]
âœ… python succeeded [2025-09-03 10:43:56 AM EDT]
âœ… python succeeded [2025-09-03 10:43:56 AM EDT]
âœ… python succeeded [2025-09-03 10:43:57 AM EDT]
âœ… python succeeded [2025-09-03 10:43:57 AM EDT]
âœ… python succeeded [2025-09-03 10:43:58 AM EDT]
âœ… python succeeded [2025-09-03 10:43:58 AM EDT]
âŒ python failed [2025-09-03 10:43:58 AM EDT]
âœ… python succeeded [2025-09-03 10:43:59 AM EDT]
âŒ python failed [2025-09-03 10:43:59 AM EDT]
âœ… python succeeded [2025-09-03 10:43:59 AM EDT]
âœ… python succeeded [2025-09-03 10:44:00 AM EDT]
âœ… python succeeded [2025-09-03 10:44:00 AM EDT]

===== LOG =====
â–¶ï¸ START: prep_merge.py (2025-09-03 10:43:53 AM EDT)
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   summaries/04a_prep/errors.txt
	modified:   summaries/04a_prep/log.txt
	modified:   summaries/04a_prep/status.txt
	modified:   summaries/04a_prep/summary.txt

no changes added to commit (use "git add" and/or "git commit -a")
Saved pitchers home â†’ data/end_chain/first/pit_hwp.csv
Saved pitchers away â†’ data/end_chain/first/pit_awp.csv
Saved cleaned batters away â†’ data/end_chain/first/raw/bat_awp_dirty.csv
Saved batters home â†’ data/end_chain/first/raw/bat_hwp_dirty.csv
Copied games file â†’ data/end_chain/first/games_today.csv
Git operation failed: Command '['git', 'commit', '-m', 'prep_merge: stage files (player_id/game_id-based)']' returned non-zero exit status 1.
â¹ï¸ END: python (2025-09-03 10:43:53 AM EDT)

â–¶ï¸ START: chain_load_data.py (2025-09-03 10:43:53 AM EDT)
--- Starting Data Loading Process ---
Loading games from data/end_chain/first/games_today.csv...
âœ… Loaded games. Shape: (14, 11)
Loading batters_home from data/end_chain/first/raw/bat_hwp_dirty.csv...
âœ… Loaded batters_home. Shape: (42, 5)
Loading batters_away from data/end_chain/first/raw/bat_awp_dirty.csv...
âœ… Loaded batters_away. Shape: (48, 5)
Loading pitchers_home from data/end_chain/first/pit_hwp.csv...
âœ… Loaded pitchers_home. Shape: (14, 5)
Loading pitchers_away from data/end_chain/first/pit_awp.csv...
âœ… Loaded pitchers_away. Shape: (12, 5)
--- Data Loading Complete ---
â¹ï¸ END: python (2025-09-03 10:43:53 AM EDT)

â–¶ï¸ START: clean_and_preprocess_games.py (2025-09-03 10:43:53 AM EDT)
âœ… Saved cleaned games file â†’ data/end_chain/cleaned/games_today_cleaned.csv (rows=14)
â¹ï¸ END: python (2025-09-03 10:43:54 AM EDT)

â–¶ï¸ START: normalize_pitchers_xtra.py (2025-09-03 10:43:54 AM EDT)
âœ… Wrote 25 rows â†’ data/end_chain/cleaned/pitchers_xtra_normalized.csv
â¹ï¸ END: python (2025-09-03 10:43:54 AM EDT)

â–¶ï¸ START: clean_merge_files.py (2025-09-03 10:43:54 AM EDT)
Cleaned data/end_chain/first/pit_hwp.csv â†’ removed 0, remaining: 0
Cleaned data/end_chain/first/pit_awp.csv â†’ removed 0, remaining: 0
Cleaned data/end_chain/first/raw/bat_awp_dirty.csv â†’ removed 0, remaining: 0
Cleaned data/end_chain/first/raw/bat_hwp_dirty.csv â†’ removed 0, remaining: 0

âœ… Duplicate cleanup complete. Summary written to data/end_chain/duplicates.txt
â¹ï¸ END: python (2025-09-03 10:43:54 AM EDT)

â–¶ï¸ START: finalbatawp.py (2025-09-03 10:43:54 AM EDT)
[main 8cbc8ab0] ğŸ“Š Auto-update finalbatawp.csv
 1 file changed, 122 insertions(+), 122 deletions(-)
âš ï¸ Warning: Some rows missing game_id after merge:
away_team home_team
   Angels       nan
  Yankees       nan
Athletics       nan
   Royals       nan
   Astros       nan
Cardinals       nan
  Brewers       nan
   Padres       nan
   Tigers       nan
   Giants       nan
White Sox       nan
    Twins       nan
  Orioles       nan
  Red Sox       nan
     Reds       nan
âœ… Successfully created data/end_chain/final/finalbatawp.csv (rows=121)
âœ… Pushed to repository.
â¹ï¸ END: python (2025-09-03 10:43:55 AM EDT)

â–¶ï¸ START: finalbathwp.py (2025-09-03 10:43:55 AM EDT)
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   summaries/04a_prep/errors.txt
	modified:   summaries/04a_prep/log.txt
	modified:   summaries/04a_prep/status.txt
	modified:   summaries/04a_prep/summary.txt

no changes added to commit (use "git add" and/or "git commit -a")
âœ… Built data/end_chain/final/finalbathwp.csv (rows=42, cols=10)
âš ï¸ Git commit/push skipped or failed: Command '['git', 'commit', '-m', 'finalbathwp: game_id merge of bat_hwp_dirty with games']' returned non-zero exit status 1.
â¹ï¸ END: python (2025-09-03 10:43:56 AM EDT)

â–¶ï¸ START: bat_1.py (2025-09-03 10:43:56 AM EDT)
ğŸ”„ Processing data/end_chain/final/finalbatawp.csv...
  ğŸ—‘ï¸ Identified columns ending in '_y' for deletion: ['game_time_y']
  ğŸ—‘ï¸ Dropped total columns: ['game_time_y']
  âœï¸ Renamed columns ending in '_x': {'game_time_x': 'game_time'}
âœ… Successfully saved processed data to data/end_chain/final/updating/bat_away1.csv
------------------------------
Beginning processing for bat_away2.csv with specific column deletions...
ğŸ”„ Processing data/end_chain/final/finalbatawp.csv...
  ğŸ—‘ï¸ Identified columns ending in '_y' for deletion: ['game_time_y']
  ğŸ—‘ï¸ Identified additional columns for deletion: ['pitcher_away', 'pitcher_home', 'team']
  ğŸ—‘ï¸ Dropped total columns: ['game_time_y']
  âœï¸ Renamed columns ending in '_x': {'game_time_x': 'game_time'}
âœ… Successfully saved processed data to data/end_chain/final/updating/bat_away2.csv
------------------------------
ğŸ”„ Processing data/end_chain/final/finalbathwp.csv...
  âœ… No columns ending in '_y' found to drop.
  âœ… No columns identified for deletion in this step.
  âœ… No columns ending in '_x' found to rename.
âœ… Successfully saved processed data to data/end_chain/final/updating/bat_home1.csv

Processing complete for bat_1.py.
â¹ï¸ END: python (2025-09-03 10:43:56 AM EDT)

â–¶ï¸ START: bat_2.py (2025-09-03 10:43:56 AM EDT)
ğŸ”„ Processing data/end_chain/final/updating/bat_home1.csv for bat_home2.csv...
  Checking for _input and _adj columns for conditional processing...
  âœ… No conditional drops or renames.
  â• Added column: 'location'
  â• Added column: 'notes'
  â• Added column: 'precipitation'
âœ… Normalized 'home_team' to title case.
âœ… Saved processed data to data/end_chain/final/updating/bat_home2.csv

==================================================

ğŸ”„ Processing data/end_chain/final/updating/bat_away1.csv for bat_away2.csv...
  â• Added column: 'latitude'
  â• Added column: 'longitude'
  â• Added column: 'city'
  â• Added column: 'state'
  â• Added column: 'timezone'
  â• Added column: 'is_dome'
  ğŸ—‘ï¸ Deleted column: 'stadium'
âœ… Saved processed data to data/end_chain/final/updating/bat_away2.csv

Processing complete for bat_2.py.
â¹ï¸ END: python (2025-09-03 10:43:56 AM EDT)

â–¶ï¸ START: bat_away3.py (2025-09-03 10:43:56 AM EDT)
â¹ï¸ END: python (2025-09-03 10:43:57 AM EDT)

â–¶ï¸ START: bat_home3.py (2025-09-03 10:43:57 AM EDT)
â¹ï¸ END: python (2025-09-03 10:43:57 AM EDT)

â–¶ï¸ START: bat4.py (2025-09-03 10:43:57 AM EDT)
âœ… Fixed bat file written to: data/end_chain/final/updating/bat_away4.csv
â¹ï¸ END: python (2025-09-03 10:43:58 AM EDT)

â–¶ï¸ START: woba_calc.py (2025-09-03 10:43:58 AM EDT)
âš ï¸ 'woba' column missing in bat_home3.csv, skipping adj_woba_weather
âœ… Updated: data/end_chain/final/updating/bat_home3.csv
âœ… Updated: data/end_chain/final/updating/bat_away4.csv
â¹ï¸ END: python (2025-09-03 10:43:58 AM EDT)

â–¶ï¸ START: pit1.py (2025-09-03 10:43:58 AM EDT)
â¹ï¸ END: python (2025-09-03 10:43:58 AM EDT)

â–¶ï¸ START: pit2.py (2025-09-03 10:43:58 AM EDT)
â¹ï¸ END: python (2025-09-03 10:43:59 AM EDT)

â–¶ï¸ START: end_prep.py (2025-09-03 10:43:59 AM EDT)
ğŸ”„ Loading files...
âœ… Files loaded. Normalizing names...
â¹ï¸ END: python (2025-09-03 10:43:59 AM EDT)

â–¶ï¸ START: pit3.py (2025-09-03 10:43:59 AM EDT)
âœ… Updated pitcher stats and saved to: data/end_chain/final/startingpitchers_final.csv
â¹ï¸ END: python (2025-09-03 10:43:59 AM EDT)

â–¶ï¸ START: normalize_batters_projection_columns.py (2025-09-03 10:43:59 AM EDT)
âœ… Saved normalized batter projection data to: data/end_chain/final/normalize_end/all_bat_col.csv
â¹ï¸ END: python (2025-09-03 10:44:00 AM EDT)

â–¶ï¸ START: bat5.py (2025-09-03 10:44:00 AM EDT)
ğŸ”„ Loading input files...
ğŸ› ï¸ Filling batter_home_final.csv...
âœ… Updated: data/end_chain/final/batter_home_final.csv
ğŸ› ï¸ Filling batter_away_final.csv...
âœ… Updated: data/end_chain/final/batter_away_final.csv
â¹ï¸ END: python (2025-09-03 10:44:00 AM EDT)


===== ERRORS =====
âŒ python ERROR [2025-09-03 10:43:58 AM EDT]:
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'last_name, first_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/baseball_for_mat/baseball_for_mat/scripts/pit1.py", line 65, in <module>
    main()
  File "/home/runner/work/baseball_for_mat/baseball_for_mat/scripts/pit1.py", line 37, in main
    today_pitchers["name_key"] = today_pitchers["last_name, first_name"].apply(normalize_name)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'last_name, first_name'

---

âŒ python ERROR [2025-09-03 10:43:59 AM EDT]:
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'last_name, first_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/baseball_for_mat/baseball_for_mat/scripts/end_prep.py", line 92, in <module>
    main()
  File "/home/runner/work/baseball_for_mat/baseball_for_mat/scripts/end_prep.py", line 47, in main
    bat_home["last_name, first_name"] = bat_home["last_name, first_name"].apply(enforce_last_first)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'last_name, first_name'

---

